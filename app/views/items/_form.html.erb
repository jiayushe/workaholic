<%= form_for @item, html: { id:"needs-validation", novalidate: "novalidate" }  do |form| %>
  <% if @item.errors.any? %>
    <div id="error_explanation">
      <h4>
        <strong>
        <%= pluralize(@item.errors.count, "error") %> prohibited
	this task from being saved:
	</strong>
      </h4>
      <ul>
        <% @item.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="form-row">
    <div class="col-md">
      <div class="form-group">
        <%= form.label :title %>
        <%= form.text_field :title, 
            class: 'form-control', 
            placeholder: 'Example Task', 
            required: true %>
        <div class="invalid-feedback">
          Please provide a valid title.
        </div>
      </div>
      <div class="form-row">
        <div class="form-group col">
          <%= form.label :deadline %>
          <%= form.text_field :deadline, 
              class: 'form-control', 
              placeholder: 'dd/mm/yyyy', 
              data: {provide: "datepicker", date_format: 'dd/mm/yyyy'}, 
              required: true, readonly: true %>
          <div class="invalid-feedback">
            Please provide a valid deadline.
          </div>
        </div>
        <div class="form-group col">
          <%= form.label :priority %>
          <%= form.number_field :level_of_importance, 
              class: 'form-control', 
              placeholder: 'Choose between 1 to 10.', 
              required: true, 
              min: 1, max: 10 %>
          <div class="invalid-feedback">
            Please provide a valid priority, ranging from 1 to 10.
          </div>
        </div>
      </div>
    </div>
    <div class="form-group col-md">
    <%= form.label :details %>
    <%= form.text_area :details, 
        class: 'form-control', 
        placeholder: 'More details about the task above.', 
        style: 'height: 125px;' %>
    </div>
    </div>
    <div class="form-row">
    <div class="form-group col-md">
      <label>Categories</label><br />
      <%= text_field_tag "category", 
          @item.categories.map { |c| c.name }.join(","), 
          class: 'form-control', 
          data: { role: 'tagsinput' } %>
    </div>
    </div>
      <%= form.submit "Save", 
          class: 'btn btn-primary' %>
    </div>
<% end %>

